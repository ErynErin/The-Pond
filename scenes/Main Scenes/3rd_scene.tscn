[gd_scene load_steps=28 format=3 uid="uid://0gwvr1mcfucc"]

[ext_resource type="Texture2D" uid="uid://dfoeb3l3cxt1d" path="res://assets/BG/Phase 3/1.png" id="1_ff7f0"]
[ext_resource type="Script" uid="uid://c3n8hb0oj65hp" path="res://scenes/Main Scenes/3_rd_scene.gd" id="1_fngbt"]
[ext_resource type="Texture2D" uid="uid://nodetolgruhr" path="res://assets/BG/Phase 3/2.png" id="2_7fgw2"]
[ext_resource type="Texture2D" uid="uid://c7btkbl0jprob" path="res://assets/BG/Phase 3/3.png" id="3_yatwi"]
[ext_resource type="Texture2D" uid="uid://iilg0bqiaysk" path="res://assets/BG/Phase 3/4.png" id="4_t2n2u"]
[ext_resource type="Texture2D" uid="uid://cklf6eqjqiigt" path="res://assets/BG/Phase 3/6.png" id="5_fngbt"]
[ext_resource type="Texture2D" uid="uid://3hang444jp4v" path="res://assets/BG/Phase 3/7.png" id="6_lfq3w"]
[ext_resource type="Texture2D" uid="uid://cm3ufwpggnhmh" path="res://assets/GUI/Game Screen UI/P3_health.png" id="8_ff7f0"]
[ext_resource type="Script" uid="uid://0dthjh7hw83f" path="res://scripts/pause_button.gd" id="9_7fgw2"]
[ext_resource type="Script" uid="uid://d22ltv5khw2fa" path="res://scripts/health_bar.gd" id="11_3xx46"]
[ext_resource type="FontFile" uid="uid://chvpvepqarnv6" path="res://assets/Fonts/Tedtadpole-Regular.ttf" id="13_7fgw2"]
[ext_resource type="AudioStream" uid="uid://co863n64uai7t" path="res://assets/Audios/bgms/Escalation by Ghostrifter Avalon.mp3" id="14_e0iyr"]
[ext_resource type="Script" uid="uid://d1swm186udos5" path="res://scripts/coins.gd" id="14_yatwi"]
[ext_resource type="PackedScene" uid="uid://ctw57l6kowhya" path="res://scenes/UI/pause_menu.tscn" id="15_btcw1"]
[ext_resource type="PackedScene" uid="uid://qvgqap54c1b1" path="res://scenes/UI/options.tscn" id="16_yatwi"]
[ext_resource type="PackedScene" uid="uid://mlspxc2wfne5" path="res://scenes/Player/player_phase3.tscn" id="18_7fgw2"]
[ext_resource type="PackedScene" uid="uid://ndj7mg5x2uqd" path="res://scenes/Collectibles/coin.tscn" id="19_yatwi"]
[ext_resource type="PackedScene" uid="uid://cqn1xtwbw5n5l" path="res://scenes/Collectibles/food.tscn" id="20_fngbt"]
[ext_resource type="PackedScene" uid="uid://ca5h26hc7p7b0" path="res://scenes/Characters/boss_1.tscn" id="21_fngbt"]

[sub_resource type="SystemFont" id="SystemFont_e0iyr"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ff7f0"]
bg_color = Color(0.6, 0.6, 0.6, 0)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7fgw2"]
bg_color = Color(1, 0.321569, 0.364706, 1)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_t2n2u"]
distance = 122.738

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_fngbt"]
resource_local_to_scene = true
distance = -581.0

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_lfq3w"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_26pct"]
normal = Vector2(1, 0)
distance = -1014.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_e0iyr"]
size = Vector2(115, 458)

[node name="Ted Game 3" type="Node2D"]
script = ExtResource("1_fngbt")

[node name="Parallax2D" type="Parallax2D" parent="."]
physics_interpolation_mode = 0

[node name="ParallaxBackground" type="ParallaxBackground" parent="Parallax2D"]
offset = Vector2(0, -40)
scale = Vector2(1.5, 1.5)
transform = Transform2D(1.5, 0, 0, 1.5, 0, -40)

[node name="ParallaxLayer" type="ParallaxLayer" parent="Parallax2D/ParallaxBackground"]
motion_mirroring = Vector2(4096, 0)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D/ParallaxBackground/ParallaxLayer"]
scale = Vector2(1.6, 1.6)
texture = ExtResource("1_ff7f0")

[node name="ParallaxLayer6" type="ParallaxLayer" parent="Parallax2D/ParallaxBackground"]
motion_mirroring = Vector2(4096, 0)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D/ParallaxBackground/ParallaxLayer6"]
position = Vector2(2048, 0)
scale = Vector2(1.6, 1.6)
texture = ExtResource("1_ff7f0")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="Parallax2D/ParallaxBackground"]
motion_scale = Vector2(0.5, 1)
motion_mirroring = Vector2(4096, 0)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D/ParallaxBackground/ParallaxLayer2"]
scale = Vector2(1.6, 1.6)
texture = ExtResource("2_7fgw2")

[node name="ParallaxLayer8" type="ParallaxLayer" parent="Parallax2D/ParallaxBackground"]
motion_scale = Vector2(0.8, 1)
motion_mirroring = Vector2(4096, 0)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D/ParallaxBackground/ParallaxLayer8"]
position = Vector2(2048, -50)
scale = Vector2(1.6, 1.6)
texture = ExtResource("2_7fgw2")

[node name="ParallaxLayer3" type="ParallaxLayer" parent="Parallax2D/ParallaxBackground"]
motion_scale = Vector2(0.8, 1)
motion_mirroring = Vector2(4096, 0)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D/ParallaxBackground/ParallaxLayer3"]
scale = Vector2(1.6, 1.6)
texture = ExtResource("3_yatwi")

[node name="ParallaxLayer9" type="ParallaxLayer" parent="Parallax2D/ParallaxBackground"]
motion_scale = Vector2(0.8, 1)
motion_mirroring = Vector2(4096, 0)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D/ParallaxBackground/ParallaxLayer9"]
position = Vector2(2048, 0)
scale = Vector2(1.6, 1.6)
texture = ExtResource("3_yatwi")

[node name="ParallaxLayer4" type="ParallaxLayer" parent="Parallax2D/ParallaxBackground"]
motion_scale = Vector2(0.8, 1)
motion_mirroring = Vector2(4096, 0)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D/ParallaxBackground/ParallaxLayer4"]
scale = Vector2(1.6, 1.6)
texture = ExtResource("4_t2n2u")

[node name="ParallaxLayer10" type="ParallaxLayer" parent="Parallax2D/ParallaxBackground"]
motion_scale = Vector2(0.8, 1)
motion_mirroring = Vector2(4096, 0)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D/ParallaxBackground/ParallaxLayer10"]
position = Vector2(2048, 0)
scale = Vector2(1.6, 1.6)
texture = ExtResource("4_t2n2u")

[node name="ParallaxLayer5" type="ParallaxLayer" parent="Parallax2D/ParallaxBackground"]
motion_mirroring = Vector2(4096, 0)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D/ParallaxBackground/ParallaxLayer5"]
texture_repeat = 3
scale = Vector2(1.6, 1.6)
texture = ExtResource("5_fngbt")

[node name="ParallaxLayer7" type="ParallaxLayer" parent="Parallax2D/ParallaxBackground"]
motion_mirroring = Vector2(4096, 0)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D/ParallaxBackground/ParallaxLayer7"]
position = Vector2(2048, 0)
scale = Vector2(1.6, 1.6)
texture = ExtResource("5_fngbt")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture_repeat = 2
position = Vector2(3090, -70)
scale = Vector2(2.5, 2.5)
texture = ExtResource("6_lfq3w")
region_enabled = true
region_rect = Rect2(0, 0, 10000, 720)

[node name="GUI" type="CanvasLayer" parent="."]
layer = 10
scale = Vector2(0.6, 0.6)
transform = Transform2D(0.6, 0, 0, 0.6, 0, 0)

[node name="HealthBar" type="ProgressBar" parent="GUI"]
offset_left = 458.0
offset_top = 157.0
offset_right = 787.0
offset_bottom = 205.0
theme_override_fonts/font = SubResource("SystemFont_e0iyr")
theme_override_font_sizes/font_size = 27
theme_override_styles/background = SubResource("StyleBoxFlat_ff7f0")
theme_override_styles/fill = SubResource("StyleBoxFlat_7fgw2")
value = 50.0
script = ExtResource("11_3xx46")

[node name="Gen UI" type="TextureRect" parent="GUI"]
offset_right = 3206.4
offset_bottom = 1803.6
texture = ExtResource("8_ff7f0")

[node name="PauseButton" type="Button" parent="GUI"]
modulate = Color(1, 1, 1, 0)
offset_left = 78.0
offset_top = 95.0
offset_right = 348.0
offset_bottom = 310.0
script = ExtResource("9_7fgw2")

[node name="Options" parent="GUI" instance=ExtResource("16_yatwi")]
visible = false
scale = Vector2(1.67, 1.67)

[node name="Coins" type="Label" parent="GUI"]
offset_left = 400.0
offset_top = 231.667
offset_right = 617.0
offset_bottom = 312.667
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
theme_override_fonts/font = ExtResource("13_7fgw2")
theme_override_font_sizes/font_size = 60
text = "Coins: 00"
script = ExtResource("14_yatwi")

[node name="Pause Menu" parent="GUI" instance=ExtResource("15_btcw1")]
process_mode = 1
z_index = 10
offset_right = 958.0
offset_bottom = 546.0
scale = Vector2(1.11, 1.11)

[node name="World Boundaries" type="Node2D" parent="."]
position = Vector2(1, 68)

[node name="top" type="StaticBody2D" parent="World Boundaries"]
position = Vector2(1, -842.492)
rotation = 3.14159

[node name="CollisionShape2D" type="CollisionShape2D" parent="World Boundaries/top"]
position = Vector2(-4.00001, -68)
shape = SubResource("WorldBoundaryShape2D_t2n2u")

[node name="bottom" type="StaticBody2D" parent="World Boundaries"]
position = Vector2(1, 579)
collision_layer = 15

[node name="CollisionShape2D" type="CollisionShape2D" parent="World Boundaries/bottom"]
position = Vector2(-2, -591)
shape = SubResource("WorldBoundaryShape2D_fngbt")

[node name="left" type="StaticBody2D" parent="World Boundaries"]
position = Vector2(-990, 0)
physics_material_override = SubResource("PhysicsMaterial_lfq3w")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="World Boundaries/left"]
shape = SubResource("WorldBoundaryShape2D_26pct")

[node name="player" parent="." instance=ExtResource("18_7fgw2")]
z_index = 3
position = Vector2(-1118, 12)
scale = Vector2(0.5, 0.5)

[node name="Camera2D" type="Camera2D" parent="player"]
position = Vector2(-43.9999, 742)
scale = Vector2(0.3, 0.3)
offset = Vector2(0, -400)
zoom = Vector2(1.13, 1.13)
process_callback = 0
limit_top = -180
limit_bottom = 1200
limit_smoothed = true
position_smoothing_enabled = true
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("14_e0iyr")
volume_db = -10.0
autoplay = true
parameters/looping = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ScreenFade" type="ColorRect" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 40.0
offset_bottom = 40.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Food" type="Node2D" parent="."]
position = Vector2(-800, 200)
metadata/_edit_lock_ = true

[node name="food" parent="Food" instance=ExtResource("20_fngbt")]
position = Vector2(3504, 403)
scale = Vector2(1.3, 1.3)

[node name="food2" parent="Food" instance=ExtResource("20_fngbt")]
position = Vector2(3434, 403)
scale = Vector2(1.3, 1.3)

[node name="food3" parent="Food" instance=ExtResource("20_fngbt")]
position = Vector2(3574, 403)
scale = Vector2(1.3, 1.3)

[node name="food4" parent="Food" instance=ExtResource("20_fngbt")]
position = Vector2(3644, 403)
scale = Vector2(1.3, 1.3)

[node name="food5" parent="Food" instance=ExtResource("20_fngbt")]
position = Vector2(3714, 403)
scale = Vector2(1.3, 1.3)

[node name="Kingstar" parent="." instance=ExtResource("21_fngbt")]
position = Vector2(3495, 408)
scale = Vector2(0.4, 0.4)

[node name="Boss Dialogue Area" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boss Dialogue Area"]
position = Vector2(3036, 448)
shape = SubResource("RectangleShape2D_e0iyr")

[node name="coin" parent="." instance=ExtResource("19_yatwi")]
position = Vector2(-747, 578)
scale = Vector2(0.3, 0.3)

[node name="coin2" parent="." instance=ExtResource("19_yatwi")]
position = Vector2(-687, 578)
scale = Vector2(0.3, 0.3)

[connection signal="boss_died" from="Kingstar" to="." method="_on_kingstar_boss_died"]
[connection signal="body_entered" from="Boss Dialogue Area" to="." method="_on_boss_dialogue_area_body_entered"]
